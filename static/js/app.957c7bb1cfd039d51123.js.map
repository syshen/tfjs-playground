{"version":3,"sources":["webpack:///./src/components/Intro.vue?5af3","webpack:///./src/App.vue?d890","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/lib/coco_classes.js","webpack:///./src/lib/yolo.js","webpack:///src/components/Yolo.vue","webpack:///./src/components/Yolo.vue?fd24","webpack:///./src/components/Yolo.vue","webpack:///src/components/WebCam.vue","webpack:///./src/components/WebCam.vue?e249","webpack:///src/components/YoloWebCam.vue","webpack:///./src/components/WebCam.vue","webpack:///./src/components/YoloWebCam.vue?8fe5","webpack:///./src/components/YoloWebCam.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/components/Intro.vue"],"names":["esExports","render","this","$createElement","_self","_c","_m","staticRenderFns","_h","_v","__webpack_exports__","selectortype_template_index_0_src_App","staticClass","class","tabClass","attrs","to","name","id","src_App","__webpack_require__","normalizeComponent","ssrContext","coco_classes","YOLO_ANCHORS","yolo","modelUrl","size","width","height","toTensor","canvas","_this","tf","tidy","image","fromPixels","beginX","shape","beginY","slice","expandDims","toFloat","div","scalar","box_iou","boxA","boxB","areaA","areaB","intersectionMinX","Math","max","intersectionMinY","intersectionMaxX","min","intersectionMaxY","intersectionArea","nonMaxSuppression","scores","boxes","self","zipped","i","length","push","sorted","sort","a","b","selected","forEach","box","toAdd","computeBoundingBoxes","features","confidenceThreshold","num_classes","num_anchors","anchors","tensor2d","anchors_tensor","reshape","conv_dims","conv_dims_0","conv_dims_1","conv_height_index","range","conv_width_index","tile","transpose","flatten","conv_index","stack","cast","dtype","tensor1d","box_xy","sigmoid","box_wh","exp","box_confidence","box_class_probs","softmax","add","mul","two","box_mins","sub","concat","box_scores","box_classes","argMax","box_class_scores","flat_mask","greaterEqual","masks_buf","buffer","indices_array","get","indices","gather","Yolo","text","FileReader","Image","resolve","result","file","dataTransfer","clearBBox","then","nextFrame","start","h","classLabel","label","offsetLeft","bbox","firstChild","x","t0","detections","classes","now","model","data","confidence","detect","err","preventDefault","components_Yolo","_vm","on","drop","dragover","$event","dragleave","xmlns","viewBox","d","_s","domProps","innerHTML","logs","_e","src_components_Yolo","Yolo_normalizeComponent","WebCam","timer","capture","snapshot","video_height","video_width","camera","pause","stop","discard_all","components_WebCam","staticStyle","background-color","YoloWebCam","WebCam_normalizeComponent","cavnas","components_YoloWebCam","video","handleVideo","click","src_components_YoloWebCam","YoloWebCam_normalizeComponent","vue_esm","use","vue_router_esm","router","routes","path","component","Intro","config","productionTip","el","components","App","template","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_6a15deb6_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Intro_vue__","Component","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Intro_vue___default"],"mappings":"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","file":"static/js/app.957c7bb1cfd039d51123.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"A playground of Tensorflow JS\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6a15deb6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Intro.vue\n// module id = A9fn\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid\"},[_c('ul',{staticClass:\"nav nav-tabs\"},[_c('li',{class:_vm.tabClass('Home')},[_c('router-link',{attrs:{\"to\":{'name': 'Home'}}},[_vm._v(\"Home\")])],1),_vm._v(\" \"),_c('li',{class:_vm.tabClass('Yolo')},[_c('router-link',{attrs:{\"to\":{'name': 'Yolo'}}},[_vm._v(\"Tiny YOLOv2\")])],1)]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6e52081e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6e52081e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6e52081e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"container-fluid\">\n    <ul class=\"nav nav-tabs\">\n      <li :class=\"tabClass('Home')\"><router-link :to=\"{'name': 'Home'}\">Home</router-link></li>\n      <li :class=\"tabClass('Yolo')\"><router-link :to=\"{'name': 'Yolo'}\">Tiny YOLOv2</router-link></li>\n    </ul>\n    <div id=\"app\">\n      <router-view></router-view>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app',\n  methods: {\n    tabClass: function (name) {\n      if (this.$route.name === name) {\n        return \"active\"\n      }\n      return \"\"\n    }\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","export default [\n  'person',\n  'bicycle',\n  'car',\n  'motorbike',\n  'aeroplane',\n  'bus',\n  'train',\n  'truck',\n  'boat',\n  'traffic light',\n  'fire hydrant',\n  'stop sign',\n  'parking meter',\n  'bench',\n  'bird',\n  'cat',\n  'dog',\n  'horse',\n  'sheep',\n  'cow',\n  'elephant',\n  'bear',\n  'zebra',\n  'giraffe',\n  'backpack',\n  'umbrella',\n  'handbag',\n  'tie',\n  'suitcase',\n  'frisbee',\n  'skis',\n  'snowboard',\n  'sports ball',\n  'kite',\n  'baseball bat',\n  'baseball glove',\n  'skateboard',\n  'surfboard',\n  'tennis racket',\n  'bottle',\n  'wine glass',\n  'cup',\n  'fork',\n  'knife',\n  'spoon',\n  'bowl',\n  'banana',\n  'apple',\n  'sandwich',\n  'orange',\n  'broccoli',\n  'carrot',\n  'hot dog',\n  'pizza',\n  'donut',\n  'cake',\n  'chair',\n  'sofa',\n  'pottedplant',\n  'bed',\n  'diningtable',\n  'toilet',\n  'tvmonitor',\n  'laptop',\n  'mouse',\n  'remote',\n  'keyboard',\n  'cell phone',\n  'microwave',\n  'oven',\n  'toaster',\n  'sink',\n  'refrigerator',\n  'book',\n  'clock',\n  'vase',\n  'scissors',\n  'teddy bear',\n  'hair drier',\n  'toothbrush',\n];\n\n\n// WEBPACK FOOTER //\n// ./src/lib/coco_classes.js","import cocoClasses from './coco_classes';\nconst YOLO_ANCHORS = [\n  [0.57273, 0.677385], \n  [1.87446, 2.06253], \n  [3.33843, 5.47434],\n  [7.88282, 3.52778], \n  [9.77052, 9.16828],\n];\n\nexport default {\n  modelUrl: \"https://raw.githubusercontent.com/syshen/tfjs-models/master/Yolov2-Tiny/model.json\",\n  size: {\n    width: 416,\n    height: 416\n  },  \n  toTensor: function(canvas) {\n    return tf.tidy(() => {\n      // Convert the ImageData to Tensor\n      const image = tf.fromPixels(canvas)\n\n      // The input shape of YOLO is 416x416x3, we need to crop the image\n      const size = this.size.width\n      const beginX = image.shape[1] / 2 - size / 2\n      const beginY = image.shape[0] / 2 - size / 2 \n      const cropped = image.slice([beginY, beginX, 0], [size, size, 3])\n\n      // Create a batch of image but with only one image\n      const batchImage = cropped.expandDims(0)\n      \n      // normalize the data\n      return batchImage.toFloat().div(tf.scalar(255))\n    })\n  },\n  \n  box_iou: function(boxA, boxB) {\n    var areaA = boxA[2] * boxA[3]\n    if (areaA <= 0) return 0;\n\n    var areaB = boxB[2] * boxB[3]\n    if (areaB <= 0) return 0;\n\n    var intersectionMinX = Math.max(boxA[0], boxB[0])\n    var intersectionMinY = Math.max(boxA[1], boxB[1])\n    var intersectionMaxX = Math.min(boxA[0] + boxA[2], boxB[0] + boxB[2])\n    var intersectionMaxY = Math.min(boxA[1] + boxA[3], boxB[1] + boxB[3])\n    var intersectionArea = Math.max(intersectionMaxY - intersectionMinY, 0) * Math.max(intersectionMaxX - intersectionMinX, 0)\n    return intersectionArea / (areaA + areaB - intersectionArea)\n  },\n\n  nonMaxSuppression: function(scores, boxes) {\n    const self = this\n\n    let zipped = []\n    for (let i = 0; i < scores.length; i++) {\n      zipped.push([\n        scores[i], [boxes[4*i], boxes[4*i + 1], boxes[4*i + 2], boxes[4*i + 3]], i\n      ])\n    }\n\n    // sort by score\n    const sorted = zipped.sort((a, b) => b[0] - a[0])\n    const selected = []\n    sorted.forEach(box => {\n      let toAdd = true\n      for (let i = 0; i < selected.length; i++) {\n        const iou = self.box_iou(box[1], selected[i][1])\n        if (iou > 0.5) {\n          toAdd = false\n        }\n      }\n\n      if (toAdd) {\n        selected.push(box)\n      }\n    })\n\n    return selected\n  },\n\n  computeBoundingBoxes: function(features) {\n    return tf.tidy(function() {\n      const confidenceThreshold = tf.scalar(0.5)\n\n      const num_classes = cocoClasses.length\n      const num_anchors = YOLO_ANCHORS.length\n\n      const anchors = tf.tensor2d(YOLO_ANCHORS)\n      const anchors_tensor = tf.reshape(anchors, [1, 1, num_anchors, 2])\n  \n      // shape: 1 x 13 x 13 x 425\n      let conv_dims = features.shape.slice(1, 3) // [13, 13]\n      let conv_dims_0 = conv_dims[0] // 13\n      let conv_dims_1 = conv_dims[1] // 13\n      // Yolo has 13 x 13 grids\n  \n      let conv_height_index = tf.range(0, conv_dims[0]) // [0, 1, 2, 3, 4, ... 12]\n      let conv_width_index = tf.range(0, conv_dims[1]) // [0, 1, 2, 3, 4, ... 12]\n  \n      conv_height_index = tf.tile(conv_height_index, [conv_dims[1]])\n  \n      // [[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],\n      //  [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],\n      //  [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12],\n      // ...]\n      conv_width_index = tf.tile(tf.expandDims(conv_width_index, 0), [conv_dims[0], 1])\n      \n      // [[0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 , 0 ],\n      //  [1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 , 1 ],\n      //  [2 , 2 , 2 , 2 , 2 , 2 , 2 , 2 , 2 , 2 , 2 , 2 , 2 ],\n      // ...]\n      conv_width_index = tf.transpose(conv_width_index)\n      conv_width_index = conv_width_index.flatten()\n  \n      // 169 x 2\n      // [[0 , 0 ],\n      // [1 , 0 ],\n      // [2 , 0 ],\n      // ...,\n      // [10, 12],\n      // [11, 12],\n      // [12, 12]]\n      let conv_index = tf.transpose(tf.stack([conv_height_index, conv_width_index]))\n      conv_index = tf.reshape(conv_index, [conv_dims[0], conv_dims[1], 1, 2])\n      conv_index = tf.cast(conv_index, features.dtype)\n  \n      // reshape to 13 x 13 x 5 x 85\n      features = tf.reshape(features, [conv_dims[0], conv_dims[1], num_anchors, num_classes + 5])\n      conv_dims = tf.cast(tf.reshape(tf.tensor1d(conv_dims), [1,1,1,2]), features.dtype)\n  \n      // here the box_xy is the center of anchor box, and the coordinate is corresponding to each grid\n      let box_xy = tf.sigmoid(features.slice([0,0,0,0], [conv_dims_0, conv_dims_1, num_anchors, 2]))\n      let box_wh = tf.exp(features.slice([0,0,0, 2], [conv_dims_0, conv_dims_1, num_anchors, 2]))\n      let box_confidence = tf.sigmoid(features.slice([0, 0, 0, 4], [conv_dims_0, conv_dims_1, num_anchors, 1]))\n      let box_class_probs = tf.softmax(features.slice([0, 0, 0, 5],[conv_dims_0, conv_dims_1, num_anchors, num_classes]))\n  \n      // set the x and y to be corresponded to the image (not each grid), and divid by 13 to normalize\n      box_xy = tf.div(tf.add(box_xy, conv_index), conv_dims)\n      // multiply the width and height with the anchor box ratios\n      box_wh = tf.div(tf.mul(box_wh, anchors_tensor), conv_dims)\n      const two = tf.tensor1d([2])\n      // to get the real x,y, we must minus with w/2 and h/2\n      const box_mins = tf.sub(box_xy, tf.div(box_wh, two))\n  \n      const size = [box_mins.shape[0], box_mins.shape[1], box_mins.shape[2], 1]\n      // x, y, w, h\n      const boxes = tf.concat([\n        box_mins.slice([0, 0, 0, 0], size),\n        box_mins.slice([0, 0, 0, 1], size),\n        box_wh.slice([0, 0, 0, 0], size),\n        box_wh.slice([0, 0, 0, 1], size)\n      ], 3)\n\n      const box_scores = box_confidence.mul(box_class_probs)\n      const box_classes = tf.argMax(box_scores, -1)\n      const box_class_scores = tf.max(box_scores, -1)\n\n      // we are only interested with box score that is greater or euqal to the threhold (0.5)\n      const prediction_mask = tf.greaterEqual(box_class_scores, confidenceThreshold)\n      const flat_mask = prediction_mask.flatten()\n      const masks_buf = flat_mask.buffer()\n      const indices_array = []\n      for (let i = 0; i < flat_mask.shape[0]; i++) {\n        const v = masks_buf.get(i)\n        if (v) {\n          indices_array.push(i)\n        }\n      }\n\n      if (indices_array.length == 0) {\n        return [null, null, null]\n      }\n\n      let indices = tf.tensor1d(indices_array)\n      indices = tf.cast(indices, 'int32')    \n\n      return [\n        tf.gather(box_classes.flatten(), indices),\n        tf.gather(box_class_scores.flatten(), indices),\n        tf.gather(boxes.reshape([flat_mask.shape[0], 4]), indices)\n      ]\n    })\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/lib/yolo.js","<template>\n  <div class=\"hello\">\n    <div class=\"row\">\n      <div class=\"col-md-8 col-md-offset-2 dropzone\" \n        @drop=\"drop\" \n        @dragover.prevent=\"dragover\"\n        @dragleave=\"dragleave\">\n        <svg class=\"icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"50\" height=\"43\" viewBox=\"0 0 50 43\"><path d=\"M48.4 26.5c-.9 0-1.7.7-1.7 1.7v11.6h-43.3v-11.6c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v13.2c0 .9.7 1.7 1.7 1.7h46.7c.9 0 1.7-.7 1.7-1.7v-13.2c0-1-.7-1.7-1.7-1.7zm-24.5 6.1c.3.3.8.5 1.2.5.4 0 .9-.2 1.2-.5l10-11.6c.7-.7.7-1.7 0-2.4s-1.7-.7-2.4 0l-7.1 8.3v-25.3c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v25.3l-7.1-8.3c-.7-.7-1.7-.7-2.4 0s-.7 1.7 0 2.4l10 11.6z\"></path></svg>\n        <label>{{label}}</label>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-md-4  text-left\">\n        <div v-if=\"logs\">\n          <pre v-html=\"logs\"></pre>\n        </div>\n      </div>\n      <div class=\"col-md-6 \">\n        <canvas id=\"canvas\"></canvas>\n        <div id=\"overlay\"></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport yolo from '../lib/yolo'\nimport cocoClasses from '../lib/coco_classes'\n\nexport default {\n  name: 'yolo',\n  data () {\n    return {\n      label: \"Drop image here\",\n      logs: null,\n      colors: {\n        \"head\": \"red\",\n        \"face\": \"green\",\n        \"person\": \"yellow\",\n        \"leg\": \"blue\",\n        \"hand\": \"blue\",\n        \"bed\": \"white\"\n      }\n    }\n  },\n  methods: {\n    sendLog: function(text) {\n      if (this.logs === null) {\n        this.logs = text\n      } else {\n        this.logs = this.logs + \"<br/>\" + text\n      }\n      console.log(text)\n    },\n\n    drawImage: function (file) {\n      const canvas = document.getElementById('canvas')\n      const ctx = canvas.getContext('2d')\n\n      return new Promise((resolve, reject) => {\n        var reader = new FileReader();\n        reader.onload = function (event) {\n\n          var img = new Image()\n          img.onload = function () {\n            let width = 416\n            let height = 416\n            if (img.width < img.height) {\n              height = 416 * img.height / img.width\n            } else {\n              width = 416 * img.width / img.height\n            }\n            canvas.width = width\n            canvas.height = height\n            \n            canvas.setAttribute('style', `width: ${width}px; height: ${height}px`)\n            var overlay = document.getElementById('overlay')\n            overlay.setAttribute('style', `width: ${width}px; height: ${height}px`)\n            ctx.drawImage(img, 0, 0, width, height)\n            resolve()\n          }\n\n          img.src = event.target.result\n        }\n        reader.readAsDataURL(file)     \n\n      })\n    },\n\n    drop: function (ev) {\n      const self = this\n      this.logs = null\n\n      const transfer = ev.dataTransfer\n      if (transfer.files.length > 0) {\n        this.clearBBox()\n\n        this.drawImage(transfer.files[0])\n        .then(() => tf.nextFrame)\n        .then(() => {\n          self.start()          \n        })\n      } else {\n        console.error('no file readed')\n        // Error handling\n      }\n    },\n\n    dragover: function () {\n\n    },\n\n    dragleave: function () {\n\n    },\n\n    drawBBox: function(canvas, box, classLabel, confidence) {\n      // const ctx = canvas.getContext('2d')\n      // ctx.lineWidth = \"1\"\n      // ctx.strokeStyle = \"#ffffff\"\n      let scaleX = canvas.width / yolo.size.width \n      let scaleY = canvas.height / yolo.size.height \n\n      let x = Math.max(box[0] * yolo.size.width + (canvas.width - yolo.size.width) / 2, 0)\n      let y = Math.max(box[1] * yolo.size.height + (canvas.height - yolo.size.height) / 2, 0)\n      let w = Math.min(box[2] * yolo.size.width, yolo.size.width)\n      let h = Math.min(box[3] * yolo.size.height, yolo.size.height)\n      \n      /*\n      ctx.rect(x, y, w, h)\n      ctx.stroke()\n\n      ctx.font = \"20px Arial\"\n      ctx.fillStyle = \"#fff\"\n      ctx.fillText(classLabel, x, y - 10)\n      */\n      const bbox = document.createElement('div')\n      bbox.classList.add('bbox')\n      bbox.setAttribute('style', `top: ${y}px; left: ${x}px; width: ${w}px; height: ${h}px`)\n\n      const label = document.createElement('div')\n      label.classList.add('label')\n      label.innerText = classLabel\n      bbox.appendChild(label)\n\n      const overlay = document.getElementById('overlay')\n      overlay.setAttribute('style', `left: ${canvas.offsetLeft}px`)\n      overlay.appendChild(bbox)\n    },\n\n    clearBBox: function() {\n      const overlay = document.getElementById('overlay')\n      while (overlay.firstChild) {\n        overlay.removeChild(overlay.firstChild)\n      }\n    },\n\n    detect: async function() {\n      const self = this\n      const canvas = document.getElementById('canvas')\n      \n      const x = yolo.toTensor(canvas)\n\n      this.sendLog(\"> Begin detecting\")\n      var t0 = performance.now()\n\n      console.log(self.model)\n      const result = self.model.predict(x)\n      \n      this.sendLog(\"< End detecting (\" + (performance.now() - t0) / 1000 + \" seconds)\")\n      this.sendLog(\"-------\")\n      \n      await tf.nextFrame()\n\n      this.sendLog(\"Post-processing\")\n      this.sendLog(\"> Computing bounding boxes\")\n      await tf.nextFrame()\n      t0 = performance.now()\n\n      const detections = yolo.computeBoundingBoxes(result)\n      \n      this.sendLog(\"< Computing bounding boxes (\" + (performance.now() - t0) / 1000 + \" seconds)\")\n      this.sendLog(\"-------\")\n\n      await tf.nextFrame()\n\n      if (detections[0] === null) {\n        this.sendLog(\"Detect nothing\");\n        return;\n      }\n\n      let classes = await detections[0].data()\n      let scores = await detections[1].data()\n      let boxes = await detections[2].data()\n\n      this.sendLog(\"> Non-max-suppression\")\n      t0 = performance.now()\n      \n      const selected = yolo.nonMaxSuppression(scores, boxes)\n        \n      this.sendLog(\"< Non-max-suppression: (\" + (performance.now() - t0) / 1000 + \" seconds)\")\n      this.sendLog(\"Number of boxes detected:\" + selected.length)\n      this.sendLog(\"-------\")\n\n      await tf.nextFrame()\n\n      this.sendLog(\"> Begin drawing boxes\")\n      \n      await tf.nextFrame()\n\n      // draw the bounding boxes\n      selected.forEach(p => {\n        let className = cocoClasses[classes[p[2]]]\n        let confidence = p[0]\n        self.drawBBox(canvas, p[1], className, confidence)\n      })\n\n      this.sendLog(\"< Done\")\n    },\n\n    start: function() {\n      const self = this\n\n      if (this.model !== undefined) {\n        this.detect()\n      } else {\n        var t0 = performance.now()\n        this.sendLog(\"> Load model file\")\n        tf.loadModel(yolo.modelUrl).then(model => {\n          var elapsed = (performance.now() - t0)/1000\n          self.sendLog(\"< Model file was loaded (\" + elapsed + \" seconds)\")\n          self.sendLog(\"-------\")\n\n          self.model = model\n          return tf.nextFrame()\n        }).then(() => {\n          self.detect()\n        }).catch(err => {\n          self.sendLog(\"Failed to load model file\")\n          console.error(err)\n        })\n      }\n    },\n    \n  },\n  mounted () {\n    window.addEventListener('dragover', e => e.preventDefault(), false)\n    window.addEventListener('drop', e => e.preventDefault(), false)\n  },\n  destroyed () {\n    window.removeEventListener('dragover', e => e.preventDefault())\n    window.removeEventListener('drop', e => e.preventDefault())\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dropzone {\n  background-color: #c8dadf;\n  text-align: center;\n  color: #92b0b3;\n  font-size: 40px;\n  padding: 80px 20px;\n  border: dashed 4px #92b0b3;\n  border-radius: 16px;\n\n  .icon {\n    fill: #92b0b3;\n  }\n}\n\n.clickable {\n  cursor: pointer;\n  color: blue;\n  text-decoration: underline;\n}\n\n.row {\n  line-height: 1.8em;\n  padding-top: 10px;\n  padding-bottom: 10px;\n}\n\ncanvas {\n  width: 100%;\n}\n\n#overlay {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n}\n</style>\n\n<style>\n.bbox {\n  position: absolute;\n  border: 2px solid white;\n\n}\n\n.bbox .label {\n  font-size: 14px;\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  background-color: white;\n  color: black;\n  border-radius: 0em;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Yolo.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"hello\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-8 col-md-offset-2 dropzone\",on:{\"drop\":_vm.drop,\"dragover\":function($event){$event.preventDefault();return _vm.dragover($event)},\"dragleave\":_vm.dragleave}},[_c('svg',{staticClass:\"icon\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"50\",\"height\":\"43\",\"viewBox\":\"0 0 50 43\"}},[_c('path',{attrs:{\"d\":\"M48.4 26.5c-.9 0-1.7.7-1.7 1.7v11.6h-43.3v-11.6c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v13.2c0 .9.7 1.7 1.7 1.7h46.7c.9 0 1.7-.7 1.7-1.7v-13.2c0-1-.7-1.7-1.7-1.7zm-24.5 6.1c.3.3.8.5 1.2.5.4 0 .9-.2 1.2-.5l10-11.6c.7-.7.7-1.7 0-2.4s-1.7-.7-2.4 0l-7.1 8.3v-25.3c0-.9-.7-1.7-1.7-1.7s-1.7.7-1.7 1.7v25.3l-7.1-8.3c-.7-.7-1.7-.7-2.4 0s-.7 1.7 0 2.4l10 11.6z\"}})]),_vm._v(\" \"),_c('label',[_vm._v(_vm._s(_vm.label))])])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-4  text-left\"},[(_vm.logs)?_c('div',[_c('pre',{domProps:{\"innerHTML\":_vm._s(_vm.logs)}})]):_vm._e()]),_vm._v(\" \"),_vm._m(0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-6 \"},[_c('canvas',{attrs:{\"id\":\"canvas\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"overlay\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-48add75f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Yolo.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-48add75f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Yolo.vue\")\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-48add75f\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=1!./Yolo.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Yolo.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Yolo.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-48add75f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Yolo.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-48add75f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Yolo.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"camera\" style=\"background-color:grey\"></div>\n</template>\n\n<script>\nexport default {\n  name: 'webcam',\n  data () {\n    return {\n      camera: null,\n      stopped: false,\n      videoHeight: null,\n      videoWidth: null,\n      timer: null\n    }\n  },\n  methods: {\n    pause: function () {\n      if (this.timer) {\n        this.stopped = true\n        clearInterval(this.timer)\n        this.timer = null\n      }\n    },\n    resume: function () {\n      this.stopped = false\n      this.start()\n    },\n    start: function () {\n      const self = this\n      this.timer = setInterval(() => {\n        const snapshot = this.camera.capture()\n        self.$emit('video', snapshot)\n        // snapshot.show()\n      }, 2000)\n    }\n  },\n  mounted () {\n    this.camera = new JpegCamera(\"#camera\")\n    const self = this\n    this.camera.ready((size) => {\n      self.videoHeight = size.video_height\n      self.videoWidth = size.video_width\n      console.log(self.camera)\n    })\n    this.start()\n  },\n\n  destroyed () {\n    this.pause()\n    this.camera.video.src.getTracks().forEach(track => {\n      track.stop()\n    })\n    this.camera.discard_all()\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/WebCam.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"background-color\":\"grey\"},attrs:{\"id\":\"camera\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1ab7aef0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/WebCam.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col-sm-6\">\n        <WebCam class=\"webcam\" @video=\"handleVideo\"></WebCam>\n        <canvas id=\"overlay\"></canvas>\n      </div>\n    </div>\n\n    <div class=\"row\">\n      <div class=\"col-sm-3\">\n        <a class=\"btn btn-block btn-info\" @click=\"start\">Start</a>\n      </div>\n\n      <div class=\"col-sm-3\">\n        <a class=\"btn btn-block btn-warn\" @click=\"stop\">Stop</a>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport WebCam from './WebCam';\nimport yolo from '../lib/yolo';\nimport cocoClasses from '../lib/coco_classes';\n\nexport default {\n  name: 'YoloWelCam',\n  components: {WebCam},\n  data() {\n    return {\n      detecting: false,\n      model:null\n    }\n  },  \n  methods: {\n    drawBBox: function(canvas, box, label) {\n    },\n    detect: async function(canvas) {\n      const x = yolo.toTensor(canvas)\n      /*\n      const result = self.model.predict(x)\n      const predictions = yolo.computeBoundingBoxes(result)\n            \n      let scores = await predictions[1].data()\n      let boxes = await predictions[2].data()\n\n      const selected = yolo.nonMaxSuppression(scores, boxes)\n      console.log('selected:' + selected.length)\n      */\n    },\n    handleVideo: async function(snapshot) {\n      const self = this\n      if (this.model && this.detecting) {\n        snapshot.get_canvas(canvas => {\n          tf.tidy(() => {\n            self.detect(cavnas)\n          })\n        })\n      }\n    },\n    start: function() {\n      const self = this\n      console.log('start loading model')\n      tf.loadModel(this.modelUrl).then(model => {\n        self.detecting = true\n        self.model = model\n      })\n    },\n    stop: function() {\n      self.begin = false\n    }\n  },\n  mounted() {\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.webcam {\n  width: 416px;\n  height: 416px;\n}\n#overlay {\n  height:416px;\n  width: 416px;\n  position:absolute;\n  top:0;\n  left:0;\n  z-index:2;\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/YoloWebCam.vue","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./WebCam.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./WebCam.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1ab7aef0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./WebCam.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/WebCam.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-6\"},[_c('WebCam',{staticClass:\"webcam\",on:{\"video\":_vm.handleVideo}}),_vm._v(\" \"),_c('canvas',{attrs:{\"id\":\"overlay\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-3\"},[_c('a',{staticClass:\"btn btn-block btn-info\",on:{\"click\":_vm.start}},[_vm._v(\"Start\")])]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-3\"},[_c('a',{staticClass:\"btn btn-block btn-warn\",on:{\"click\":_vm.stop}},[_vm._v(\"Stop\")])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b8f4c218\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/YoloWebCam.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b8f4c218\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./YoloWebCam.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./YoloWebCam.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./YoloWebCam.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b8f4c218\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./YoloWebCam.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b8f4c218\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/YoloWebCam.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\nimport Router from 'vue-router';\nimport Yolo from '@/components/Yolo';\nimport Intro from '@/components/Intro';\nimport YoloWebCam from '@/components/YoloWebCam';\n\nVue.use(Router);\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Home',\n      component: Intro\n    },\n    {\n      path: '/yolo',\n      name: 'Yolo',\n      component: Yolo\n    },\n    {\n      path: '/yolo-webcam',\n      name: 'YoloWebCam',\n      component: YoloWebCam\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\nrequire('../node_modules/bootstrap-sass/assets/stylesheets/_bootstrap.scss')\n\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Intro.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Intro.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6a15deb6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Intro.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Intro.vue\n// module id = xa4f\n// module chunks = 1"],"sourceRoot":""}